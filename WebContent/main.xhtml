
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" template="/WEB-INF/templates/basicTemplate.xhtml">

	<ui:define name="extraHead">
		<script name="jquery/jquery.js" library="primefaces"></script>
		<script>
			function next() {
				console.log('next');
				PF('wizard').next();
				PF('stepsInFlow').setActiveIndex(2);
			}

			function back() {
				console.log('back');
				PF('wizard').back();
				PF('stepsInFlow').setActiveIndex(3);
			}

			function goToStep(step) {
				console.log('Moving to step: ' + step);
				wizard = PF('wizard');
				wizard.loadStep(wizard.cfg.steps[step], true);
			}
		</script>
	</ui:define>


	<ui:define name="content">

		<style type="text/css">
.ui-steps .ui-steps-item {
	width: 25%;
}

.ui-state-highlight {
	text-shadow: none !important;
}

.ui-steps.custom {
	margin-bottom: 30px;
}

.ui-steps.custom .ui-steps-item .ui-menuitem-link {
	height: 10px;
	padding: 0 1em;
}

.ui-steps.custom .ui-steps-item .ui-steps-number {
	background-color: #0081c2;
	color: #FFFFFF;
	display: inline-block;
	width: 20px;
	border-radius: 10px;
	margin-top: -10px;
	margin-bottom: 10px;
}
</style>
		<h3>#{msg['flow.step0']}</h3>
		<p:steps activeIndex="0" styleClass="custom" readonly="false" widgetVar="stepsInFlow">
			<p:menuitem value="#{msg['flow.step1']}" url="#" onclick="goToStep(0);" icon="ui-icon-disk"/>
			<p:menuitem value="#{msg['flow.step2']}" url="#" onclick="goToStep(1);" />
			<p:menuitem value="#{msg['flow.step3']}" url="#" onclick="goToStep(2);" />
			<p:menuitem value="#{msg['flow.step4']}" url="#" onclick="goToStep(3);" />
		</p:steps>
		<br />
		<br />
		<center>

			<div style="width: 500px">

				<input value="Prev" type="button" onclick="back();" /> <input value="Next" type="button" onclick="next();" />
				<p:wizard widgetVar="wizard" flowListener="#{tutorialRegistrationBean.flowListener}" showNavBar="true">
					<p:tab id="uploadFile">
						<h:form enctype="multipart/form-data">
							<p:growl id="messages" showDetail="true" />
							<p:panelGrid columns="2">
								<p:outputLabel value="#{msg['uploadFile.fileName']}" />
								<p:fileUpload mode="advanced" dragDropSupport="false" fileUploadListener="#{fileUploadView.handleFileUpload}" value="#{fileUploadView.file}"
									update="messages" sizeLimit="10000000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
									
								<p:commandButton value="Submit" ajax="false" action="#{fileUploadView.dummyAction}"/>
							</p:panelGrid>
						</h:form>
					</p:tab>
					<p:tab id="transformToXml">
						<p:panelGrid columns="2">
							<p:outputLabel value="Dato:" />
							<h:inputText value="#{tutorialRegistrationBean.tutorial.tutorialPrice}"></h:inputText>
						</p:panelGrid>

					</p:tab>
					<p:tab id="sending">
						<p:panelGrid columns="2">
							<p:outputLabel value="#{msg['flow.step7']}" />
						</p:panelGrid>
					</p:tab>
					<p:tab id="response">
						<p:panelGrid columns="2">
							<p:outputLabel value="#{msg['flow.step8']}" />
							<h:commandButton value="Register" action="#{tutorialRegistrationBean.register}" oncomplete="resetWizard()"></h:commandButton>
						</p:panelGrid>
					</p:tab>
				</p:wizard>
				<br /> <br />
				<p:dataTable value="#{tutorialRegistrationBean.tutorials}" var="tutorial">
					<f:facet name="header">
						<p:outputLabel value="#{msg['logPanel.title']}" />
					</f:facet>
					<p:column>
						<h:outputText value="#{tutorial.tutorialName}" />
					</p:column>
					<p:column>
						<h:outputText value="#{tutorial.tutorialInstructor}" />
					</p:column>
					<p:column>
						<h:outputText value="#{tutorial.tutorialStartDate}" />
					</p:column>
					<p:column>
						<h:outputText value="#{tutorial.tutorialEndDate}" />
					</p:column>
				</p:dataTable>
			</div>
		</center>
	</ui:define>

</ui:composition>
